<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Include Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-analytics-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-database-compat.js"></script>

  <style>
    .toggle-button {
      padding: 20px;
      font-size: 18px;
      background-color: #fff;
      color: #3498db;
      border: none;
      cursor: pointer;
      border-radius: 8px;
      transition: background-color 0.3s ease-in-out;
    }

    .toggle-button.active {
      background-color: #3498db;
      color: #fff;
    }
  </style>
</head>
<body>
  <div class="container">
    <button id="button1" class="toggle-button">Button 1</button>
    <button id="button2" class="toggle-button">Button 2</button>
    <!-- Add more buttons as needed -->
  </div>

  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
      // ... (your existing Firebase configuration)
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();

    // Reference to Firebase Realtime Database
    var db = firebase.database();
    var dbRef = db.ref('buttonStates');

    document.addEventListener("DOMContentLoaded", function () {
      var buttons = document.querySelectorAll(".toggle-button");

      // Listen for changes in the data
      dbRef.on('value', function(snapshot) {
        var buttonStates = snapshot.val() || {};
        buttons.forEach(function(button) {
          button.classList.toggle("active", buttonStates[button.id]);
        });
      });

      // Handle button click events
      buttons.forEach(function(button) {
        button.addEventListener("click", function () {
          this.classList.toggle("active");
          var buttonStates = {};
          buttons.forEach(function(btn) {
            buttonStates[btn.id] = btn.classList.contains("active");
          });
          // Update the Firebase database
          dbRef.set(buttonStates);
        });
      });
    });
  </script>
</body>
</html>
